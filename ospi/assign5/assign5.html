    <pre>
<span class="tuareg-font-lock-governing">let</span> <span class="function-name">test_circuit_sm</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">()</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">=</span>
  <span class="tuareg-font-lock-governing">let</span> <span class="variable-name">c </span><span class="tuareg-font-lock-operator">=</span> new_circuit <span class="tuareg-font-lock-operator">()</span> <span class="tuareg-font-lock-governing">in</span>
  c<span class="tuareg-font-lock-operator">#</span>isrc 1 0 <span class="tuareg-font-lock-operator">~</span><span class="variable-name">id</span><span class="tuareg-font-lock-operator">:</span><span class="type">50 </span><span class="tuareg-font-lock-operator">~</span><span class="variable-name">dc</span><span class="tuareg-font-lock-operator">:</span>
    <span class="tuareg-font-lock-operator">(</span><span class="type">Source</span>.<span class="type">DC</span>.pwl <span class="tuareg-font-lock-operator">[(</span>0.<span class="tuareg-font-lock-operator">,</span> 0.<span class="tuareg-font-lock-operator">);</span> <span class="tuareg-font-lock-operator">(</span>1e<span class="tuareg-font-lock-operator">-</span>9<span class="tuareg-font-lock-operator">,</span> 0.5<span class="tuareg-font-lock-operator">);</span> <span class="tuareg-font-lock-operator">((</span>0.5e<span class="tuareg-font-lock-operator">-</span>3 <span class="tuareg-font-lock-operator">-.</span> 1e<span class="tuareg-font-lock-operator">-</span>9<span class="tuareg-font-lock-operator">),</span> 0.5<span class="tuareg-font-lock-operator">);</span>
                    <span class="tuareg-font-lock-operator">(</span>0.5e<span class="tuareg-font-lock-operator">-</span>3<span class="tuareg-font-lock-operator">,</span> 0.<span class="tuareg-font-lock-operator">);</span> <span class="tuareg-font-lock-operator">(</span>1e<span class="tuareg-font-lock-operator">-</span>3<span class="tuareg-font-lock-operator">,</span> 0.<span class="tuareg-font-lock-operator">)]);</span>
  c<span class="tuareg-font-lock-operator">#</span>res 1 0 <span class="tuareg-font-lock-operator">~</span><span class="variable-name">r</span><span class="tuareg-font-lock-operator">:</span><span class="type">2.</span><span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>cap 1 0 <span class="tuareg-font-lock-operator">~</span><span class="variable-name">c</span><span class="tuareg-font-lock-operator">:</span><span class="type">0.2e</span><span class="tuareg-font-lock-operator">-</span><span class="type">6</span><span class="tuareg-font-lock-operator">;</span>
  <span class="type">Diode</span>.diode_subckt c <span class="tuareg-font-lock-operator">~</span><span class="variable-name">nb</span><span class="tuareg-font-lock-operator">:</span><span class="type">1 </span><span class="tuareg-font-lock-operator">~</span><span class="variable-name">ne</span><span class="tuareg-font-lock-operator">:</span><span class="type">2</span><span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>cap 2 0 <span class="tuareg-font-lock-operator">~</span><span class="variable-name">c</span><span class="tuareg-font-lock-operator">:</span><span class="type">0.2e</span><span class="tuareg-font-lock-operator">-</span><span class="type">3</span><span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>res 2 0 <span class="tuareg-font-lock-operator">~</span><span class="variable-name">r</span><span class="tuareg-font-lock-operator">:</span><span class="type">100.</span><span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>sm <span class="string">"SM"</span> 0.001<span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>load <span class="string">"v(out)"</span> <span class="string">"ospi/assign5/tran_vout.csv"</span><span class="tuareg-font-lock-operator">;</span>
  c<span class="tuareg-font-lock-operator">#</span>plot <span class="tuareg-font-lock-operator">~</span><span class="variable-name">named</span><span class="tuareg-font-lock-operator">:[</span><span class="string">"v(out)"</span><span class="tuareg-font-lock-operator">]</span> `SM <span class="string">"SM"</span> <span class="tuareg-font-lock-operator">[</span>2<span class="tuareg-font-lock-operator">]</span></pre>
